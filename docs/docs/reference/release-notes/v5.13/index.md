---
date: "2023-12-@TODO"
version: "5.13.0"
title: "v5.13 Release Notes"
---

Welcome to `gatsby@5.13.0` release (December 2023 #1)

Key highlight of this release:

- [Custom Image and File CDN URL generators](#custom-image-and-file-cdn-url-generators)

Also check out [notable bugfixes](#notable-bugfixes--improvements).

**Bleeding Edge:** Want to try new features as soon as possible? Install `gatsby@next` and let us know if you have any [issues](https://github.com/gatsbyjs/gatsby/issues).

[Previous release notes](/docs/reference/release-notes/v5.12)

[Full changelog][full-changelog]

---

## Custom Image and File CDN URL generators

[`gatsby@4.10.0` introduced Image CDN](/docs/reference/release-notes/v4.10/#image-cdn) capability for Gatsby users. For best build performance it requires deployed site to handle image transformations at request time instead of at build time. Until now, handling those requests required supporting Gatsby specific URL format. With this release we're introducing support for custom URL generators that allow you to use your own URL format making it easier to integrate with existing site deployment platforms that offer Image CDN capabilities or using self managed Image CDNs by providing a way to generate URLs that are already in format expected by your CDN.

Adapter API now offers ability to provide custom URL generators modules for both Image CDN (`gatsbyImage`) and File CDN (`publicUrl`). `gatsby-adapter-netlify@1.1.0` is optioanlly using this feature to make use of [Netlify's Image CDN](https://docs.netlify.com/image-cdn/overview/). Be sure to check [Netlify Adapter documentation](https://www.npmjs.com/package/gatsby-adapter-netlify#imagecdn) for more information how to enable and configure it.

Image and File CDN are using remote URL for source images and files. It is recommended to only allow certain remote URLs to be used to prevent abuse. This verions also introduced a way for source plugins that support Image and File CDN to declare list of allowed remote URLs with newly added `addRemoteFileAllowedUrl` action. Adapters will receive list of allowed URLs and can use it to validate remote URLs used in generated URLs as well as configure (or help users configure) their CDN to only allow those remote URLs.

Latest versions of `gatsby-source-contentful`, `gatsby-source-drupal` and `gatsby-source-wordpress` will use this new action to declare allowed remote URLs. Latest version of `gatsby-adapter-netlify` will use this information to help configure Netlify's Image CDN to only allow those remote URLs by providing informative message in case your `netlify.toml` doesn't allow required remote URLs.

If you are interested in using custom URL generators in your adapter, check source code of `gatsby-adapter-netlify` for reference implementation:

- [registering custom URL generators modules](https://github.com/gatsbyjs/gatsby/blob/4a780fbac717b1df337f156e2ac4b2da6478106b/packages/gatsby-adapter-netlify/src/index.ts#L159-L164)
- [custom Image CDN URL generator](https://github.com/gatsbyjs/gatsby/blob/4a780fbac717b1df337f156e2ac4b2da6478106b/packages/gatsby-adapter-netlify/src/image-cdn-url-generator.ts)
- [custom File CDN URL generator](https://github.com/gatsbyjs/gatsby/blob/4a780fbac717b1df337f156e2ac4b2da6478106b/packages/gatsby-adapter-netlify/src/file-cdn-url-generator.ts)

## Notable bugfixes & improvements

- `gatsby`:
  - Disable prettier formatting for autogenerated GraphQL Types, via [PR #38453](https://github.com/gatsbyjs/gatsby/pull/38453)
  - Fix API Functions compilation on Windows, via [PR #38489](https://github.com/gatsbyjs/gatsby/pull/38489)
  - Fix segmentation faults in DSG/SSR function when mounted in read-only directory, via [PR #38631](https://github.com/gatsbyjs/gatsby/pull/38631)
  - Add `headerRules` to Adapters API to be able to use set of rules for setting headers instead of setting headers for each path individually, via [PR #38644](https://github.com/gatsbyjs/gatsby/pull/38644)
  - Handle Path Prefixed paths in Adapter's Route Manifest, via [PR #38666](https://github.com/gatsbyjs/gatsby/pull/38666)
- `gatsby-adapter-netlify`:
  - Support Path Prefix and Trailing Slash options, via [PR #38666](https://github.com/gatsbyjs/gatsby/pull/38666)
  - Support `force` and `conditions` redirect parameters, via [PR #38657](https://github.com/gatsbyjs/gatsby/pull/38657)
- `gatsby-source-contentful`:
  - Properly configure sync options for incremental data update, via [PR #38468](https://github.com/gatsbyjs/gatsby/pull/38468)
  - Fix handling of "Long text" fields during incremental data updata, via [PR #38728](https://github.com/gatsbyjs/gatsby/pull/38728)
- Multiple packages using `sharp` (image processing library):
  - Address security vulnerability in used version of `sharp` by upgrading, via [PR #38374](https://github.com/gatsbyjs/gatsby/pull/38374)

## Contributors

A big **Thank You** to [our community who contributed][full-changelog] to this release ðŸ’œ

TODO

[full-changelog]: https://github.com/gatsbyjs/gatsby/compare/gatsby@5.13.0-next.0...gatsby@5.13.0
