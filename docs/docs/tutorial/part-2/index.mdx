---
title: Use and Style React Components
---

import { Announcement } from 'gatsby-interface'
import Collapsible, { CollapsibleNotification } from '@components/collapsible'

<Collapsible
  summary={
    <h3>This is a title</h3>
  }
>

This **stuff** is in a collapsible section

</Collapsible>

<CollapsibleNotification>

<details>

<summary>

### Another title

</summary>

Some collapsed stuff.

</details>

</CollapsibleNotification>

## Introduction

In the previous part of the Tutorial, you created your first Gatsby site and used Gatsby Cloud to deploy it to the internet. Now that you have everything all set up, it's time to make this site your own!

Throughout the rest of the Tutorial, you'll build a blog site. (Want to peek ahead? Here's a [finished example of the site you'll build](https://introworkshopexamplesitev3.gatsbyjs.io).)

The first step of creating your blog site is to build out the basic page structure. To do that, you'll need to know about React components and how Gatsby uses them.

By the end of this part of the Tutorial, you will be able to:

* Create **page components** to add new pages to your site.
* Import and use a **pre-built component** from another package.
* Create your own **reusable "building block" component**.
* Use component **props** to change the way it renders.
* Use the **`children`** prop to create wrapper components.

## A quick intro to React

### What is React?

React is the JavaScript library that Gatsby uses under the hood to create user interfaces (UIs). With React, you can break down your UI into smaller, reusable pieces called **components**.

For example, imagine the UI for an online store's Products page:

![A product page for the Gatsby store site, with different parts of the UI outlined to show how one might break it down into React components.](./ui-built-from-components.png)

To build this page in React, you might have a `<Navbar>` component for the navigation menu, a `<Sidebar>` component for extra information displayed to the side of the main content, and a `<ProductGrid>` component to display all of the products for sale.

You can also create components from other components. For example, you might decide to break down the `<ProductGrid>` component into a list of multiple `<ProductCard>` components, which each display the details about a single product. This pattern is called **composition**, since your larger `<ProductGrid>` component is *composed* of smaller `<ProductCard>` components.


<Announcement>

**Try it!**

Look back at the [finished example blog site](https://introworkshopexamplesitev3.gatsbyjs.io). How might you break down the pages into components?

Not sure where to start? Look for parts of the UI that repeat within a page or across multiple pages.

</Announcement>


### What is a React component?

Under the hood, a **React component** is a function that returns a React element. A **React element** is an object that React uses to render DOM elements.

![A component is a function that outputs a React component, written in JSX.](./component-without-props.png)

The simplest way to write React elements is with **JSX**. JSX is a JavaScript syntax extension that describes the DOM structure for your component. It looks a bit like having HTML in your JavaScript files:

```javascript
const hello = <h1>Hello world!</h1>
```

One powerful aspect of JSX is that you can embed JavaScript expressions into your JSX. You can put JS expressions into your JSX using curly brackets `{}` For example, this code snippet will swap out the name in the `greeting` element based on the value of the `name` variable:

```javascript
const name = "Megan"
const greeting = <p>Hi {name}!</p>
```

You'll learn more about how to create React components in the next section.

## Create a page component

* New key React concept: How to create a component (3 steps)
* Component type: page
* Task: Create an /about page

There are two main types of components in a Gatsby site. The first type you'll create are **page components**. A page component contains all the UI elements for a specific page of your site.

In this section, you'll create two new page components: one for the Home page and one for an About page.

(If you're new to writing React components, expand the content below for a quick overview.)

<Collapsible
  summary={<h3>Key React Concept: Writing a React component</h3>}
>

There are three main steps to writing a React component:

1. **Import React** from the `'react'` package, so that you can use JSX inside your `.js` file.
1. **Define your component.** It should be a function that returns a JSX element.
1. **Export your component**, so that it can be used by other parts of your site.

Here's an example of what that basic structure looks like in code:

```javascript:title=my-component.js
// Step 1: Import React. This lets you use JSX inside your .js file.
import * as React from 'react'

/* Step 2: Define your component. Note that your
component name should start with a capital letter. */
const MyComponent = () => {
  return (
    <h1>Hi, welcome to my site!</h1>
  )
}

/* Step 3: Export your component so it
can be used by other parts of your app. */
export default MyComponent
```

Your component must return a single React element, but you can put as many elements inside that top-level element as you want. The code snippet below shows an example of a valid component and an invalid component:

```javascript
import React from 'react'

const ValidComponent = () => {
  return (
    <div>
      <h1>A valid component!</h1>
      <p>This will work fine.</p>
      <p>
        Since there is only one top-level element: the div.
      </p>
    </div>
  )
}

const InvalidComponent = () => {
  return (
    <h1>This won't work.</h1>
    <p>Because there are two elements at the top level.</p>
  )
}
```

<Announcement>

If you try to build your site with the code above, you'll get an error for `<InvalidComponent>` like this:

```shell
Parsing error: Adjacent JSX elements must be
wrapped in an enclosing tag. Did you want a JSX fragment
<>...</>?
```

</Announcement>

</Collapsible>

### Task: Update the home page content

Now that you've gotten a high-level introduction to React, it's time to your hands at writing some React components. To start, you'll update the content for the home page.

<Announcement>

If you haven't already, open your Gatsby site in Visual Studio Code, and start up your local development server in the command line:

1. Open your command line application.
1. Change directories into the folder for your Gatsby site.
1. Run `gatsby develop`.
1. Open `localhost:8000` in your web browser.

</Announcement>


1. Open your `src/pages/index.js` file. Replace its contents with the following. (Notice how the component's structure matches the three steps for writing React components?)

```js:title=src/pages/index.js
import * as React from "react"

const IndexPage = () => {
  return (
    <main>
      <title>Home Page</title>
      <h1>Welcome to my Gatsby site!</h1>
      <p>I'm making this by following the Gatsby Tutorial.</p>
    </main>
  )
}

export default IndexPage
```

2. Go to `localhost:8000` in a web browser. (You might need to wait a moment while your development server rebuilds.) Once your page updates, it should look something like this:

![A screenshot of "localhost:8000" in a web browser. There's a heading that says, "Welcome to my Gatsby site!" and a paragraph that says, "I'm making this by following the Gatsby Tutorial."](./index-page.png)

<Announcement>

**Key Gatsby Concept** ðŸ’¡

Gatsby automatically creates pages for React components that are the default export of files in the `src/pages` directory.

</Announcement>

### Task: Create a new page component for an About page

Now that you've updated the existing Home page, try creating a new page from scratch. Make an About page, so that you can tell people a little about yourself.

1. Create a new file: `src/pages/about.js`. Use the code below as a starting point for your About page. (Feel free to switch up the content to make it more specific to you. Maybe share your favorite food or go-to vacation spot!)

```js:title=src/pages/about.js
import React from 'react'

const AboutPage = () => {
  return (
    <main>
      <title>About Me</title>
      <h1>About Me</h1>
      <p>Hi there! I'm the proud creator of this site, which I built with Gatsby.</p>
    </main>
  )
}

export default AboutPage
```

2. In a web browser, visit `localhost:8000/about`. When your development server finishes rebuilding your site, the About page should look something like this:

![A screenshot of "localhost:8000/about" in a web browser. It has a heading that says, "About Me", and a paragraph that says, "Hi there! I'm the proud creator of this site, which I built with Gatsby."](./about-page.png)

<Announcement>

**Key Gatsby Concept** ðŸ’¡

Pages created in the `src/pages` directory use the name of the file as the route for the page.

For example, if you had a file called `src/pages/garden-gnomes.js`, you could access that page at `localhost:8000/garden-gnomes`.

</Announcement>

## Use the `<Link>` component

* New React concept: components with props
* Component type: pre-built building block
* Task: Use the `<Link>` component to hard-code a navbar into the Home and About pages

1. Add a Link to your about page.

```js:title="src/pages/index.js"
import React from 'react'
// highlight-next-line
import { Link } from 'gatsby'

const AboutPage = () => {
  return (
    <main>
      <title>About Me</title>
      <h1>About Me</h1>
      <Link to="/">Back to Home</Link>
      <p>My name is Megan. I like teaching, video games, and dogs!</p>
    </main>
  )
}

export default AboutPage
```

1. Update your index page.

```js:title=src/pages/index.js
import * as React from "react"
// highlight-next-line
import { Link } from 'gatsby'

const IndexPage = () => {
  return (
    <main>
      <title>Home Page</title>
      <h1>
        Congratulations
        <br />
        <span>â€” you just made a Gatsby site! </span>
        <span role="img" aria-label="Party popper emojis">
          ðŸŽ‰ðŸŽ‰ðŸŽ‰
        </span>
      </h1>
      {/* highlight-next-line */}
      <Link to="/about">About</Link>
    </main>
  )
}

export default IndexPage
```

## Create a reusable layout component

* New key React concept: components with the `children` prop
* Component type: custom building block
* Task: create a Layout component

Notice: there are some repeated parts of our page layout. It's not a big deal now, but imagine how tedious it would be if your site had dozens (or even thousands) of pages. What if you wanted to make a change to the layout? You'd have to go and update every one of those thousands of files. Yuck.

Instead, it would be better to have one common Layout component that you can use anywhere. That way, when you need to make updates, you only have to do it in one place. And those changes will automatically be applied to all your other files.

// INSERT DIAGRAM TO HELP EXPLAIN THIS. Hard-coded links in every page, vs. one layout component that gets imported into every page.

Now, instead of using someone else's building block component, you're creating your own.

But how do you create a wrapper component? You need to learn about children.

// KEY REACT CONCEPT: children prop

1. Create a layout component. (It takes children.)

```js:title=src/components/layout.js
import React from 'react'
import { Link } from 'gatsby'

const Layout = ({ pageTitle, children }) => {
  return (
    <main>
      <title>{pageTitle}</title>
      <nav>
        <ul>
          <li><Link to="/">Home</Link></li>
          <li><Link to="/about">About</Link></li>
        </ul>
      </nav>
      <h1>{pageTitle}</h1>
      {children}
    </main>
  )
}

export default Layout
```

1. Update your /about page and home page to use the Layout component instead of the hard-coded Link component.

```js:title=src/pages/about.js
import React from 'react'
import Layout from '../components/layout' // highlight-line

const AboutPage = () => {
  return (
    // highlight-start
    <Layout pageTitle="About Me">
      <p>My name is Megan. I like teaching, video games, and dogs!</p>
    </Layout>
    // highlight-end
  )
}

export default AboutPage
```

1. Repeat the same process for your home page.

```js:title=src/pages/index.js
import * as React from "react"
import Layout from '../components/layout' // highlight-line

const IndexPage = () => {
  return (
    // highlight-start
    <Layout pageTitle="Home Page">
      <p>Welcome to my blog!</p>
    </Layout>
    // highlight-end
  )
}
```

## Style components with CSS modules

* New (Gatsby?) concept: CSS modules
* Task: style the Layout component

1. Create a file with styles. Make sure your file ends with `.module.css`.

Note: add these individually, explain generally what each chunk of styles do.

```css:title=src/components/layout.module.css
.container {
  margin: auto;
  max-width: 500px;
  font-family: sans-serif;
}

.heading {
  color: rebeccapurple;
}

.nav-links {
  display: flex;
  list-style: none;
  padding-left: 0;
}

.nav-link-item {
  padding-right: 2rem;
}

.nav-link-text {
  color: black;
}
```

1. Import the styles into your Layout component, and apply each class to the corresponding element.

```js:title=src/components/layout.js
import React from 'react'
import { Link } from 'gatsby'
// highlight-start
import {
  container,
  heading,
  navLinks,
  navLinkItem,
  navLinkText
} from './layout.module.css'
// highlight-end

const Layout = ({ pageTitle, children }) => {
  return (
    <main className={container}> // highlight-line
      <title>{pageTitle}</title>
      <nav>
        <ul className={navLinks}> // highlight-line
          <li className={navLinkItem}> // highlight-line
            <Link to="/" className={navLinkText}> // highlight-line
              Home
            </Link>
          </li>
          <li className={navLinkItem}> // highlight-line
            <Link to="/about" className={navLinkText}> // highlight-line
              About
            </Link>
          </li>
        </ul>
      </nav>
      <h1 className={heading}>{pageTitle}</h1> // highlight-line
      {children}
    </main>
  )
}

export default Layout
```

## Summary

Key takeaways:

* Any default React component in src/pages will be turned into a page.
* Building-block components are smaller reusable parts of your UI. They can be imported into page components or other building block components.
* You can import pre-built components from other packages, or you can write your own custom components from scratch.
* Gatsby isn't opinionated about what kind of styling approach you want to use.

// Pull out key images

<Announcement>

**Share Your Feedback!**

Our goal is for this Tutorial to be helpful and easy to follow. We'd love to hear your feedback about what you liked or didn't like about this part of the Tutorial.

Use the "Was this doc helpful to you?" form at the bottom of this page to let us know what worked well and what we can improve.

</Announcement>
